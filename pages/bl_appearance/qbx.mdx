import { Steps } from 'nextra/components'

---
QBX Installation
---

<Steps>
### Modify `randomPed` Function in `client/character.lua` for `qbx_core` with
```lua
local function randomPed()
    local ped = randomPeds[math.random(1, #randomPeds)]
    lib.requestModel(ped.model, config.loadingModelsTimeout)
    SetPlayerModel(cache.playerId, ped.model)
    pcall(function() exports.bl_appearance:SetPedAppearance(PlayerPedId(), ped) end)
    SetModelAsNoLongerNeeded(ped.model)
end
```

### Modify `previewPed` Function in `client/character.lua` for `qbx_core` with
```lua
local function previewPed(citizenId)
    if not citizenId then randomPed() return end
    exports.bl_appearance:SetPlayerPedAppearance(citizenId)
end
```

### Modify `fetchPlayerSkin` Function in `storage/players.lua` for `qbx_core` with
```lua
local function fetchPlayerSkin(citizenId)
    return MySQL.single.await('SELECT * FROM appearance WHERE id = ?', {citizenId})
end
```

</Steps>
